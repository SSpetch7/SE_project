#:kivy 2.0

WindowManager:
    MainMenu:
    Dungeon:
    RisingKnee:
    RisingKneePlay:


<Button>:
    background_normal: ''
    background_color: (244/255, 132/255, 0, 1)
    font_name: "Montserrat/Montserrat-Bold.ttf"

<MenuButton@Button>:
    background_color: (0, 0, 0, 0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (244/255, 132/255, 0, 1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [6,0,0,6]



<MainMenu>:
    name: "main"
    Image:
        source: 'images/test.png'
        pos: self.pos
        size_hint: None, None
        size: root.size
        allow_stretch: True
        keep_ratio: False
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            canvas.before:
                Color:
                    rgba: (0, 0, 0, 1)
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height
            size_hint_y: 0.25
            orientation: "horizontal"
            AnchorLayout:
                canvas.after:
                    Color:
                        rgba: (1,0,0,1)
                    Line:
                        width: 2
                        rectangle: self.x, self.y, self.width, self.height
                anchor_x: "left"
                anchor_y: "top"
                padding: 40
                Button:
                    pos_hint: {"top": 1}
                    text: "PreAooInw za007"
                    size_hint: 0.7, 0.8
            AnchorLayout:
                anchor_x: "right"
                anchor_y: "top"
                padding: [0, 40, 40, 0]
                BoxLayout:
                    spacing: 20
                    orientation: "horizontal"
                    Widget:
                    Label:
                        halign: "right"
                        valign: 'middle'
                        pos_hint: {"top": 1}
                        text: "Gold: 9999"
                        color: (1, 1, 1, 1)
                        bold: True
                        font_size: 18
                        text_size: self.size
                        size_hint: None, 0.45
                        width: 200
                        canvas.before:
                            Color:
                                rgba: (244/255, 132/255, 0, 1)
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Label:
                        halign: 'right'
                        valign: 'middle'
                        pos_hint: {"top": 1}
                        text: "EP: 9999"
                        color: (1, 1, 1, 1)
                        bold: True
                        font_size: 18
                        text_size: self.size
                        size_hint: None, 0.45
                        width: 200
                        canvas.before:
                            Color:
                                rgba: (244/255, 132/255, 0, 1)
                            Rectangle:
                                size: self.size
                                pos: self.pos
                    Button:
                        pos_hint: {"top": 1}
                        text: "setting"
                        size_hint: None, 0.45
                        width: 80
        GridLayout:
            cols: 2
            size_hint_y: 0.75
            Image:
                source: 'images/test2.png'
                size_hint_y: None
                height: "325dp"
            BoxLayout:
                orientation: "vertical"
                padding: [0,0,0,20]
                spacing: 20
                MenuButton:
                    text: "Dungeon"
                    font_size: 32
                    bold: True
                    size_hint_y: 1.25
                    on_release:
                        app.root.current = "dun"
                        root.manager.transition.direction = "left"
                MenuButton:
                    text: "Exploration"
                    font_size: 32
                    size_hint_x: 0.8
                    pos_hint_x: { 'right' : 1}
                    bold: True
                    canvas.after:
                        Color:
                            rgba: (1,0,0,1)
                        Line:
                            width: 2
                            rectangle: self.x, self.y, self.width, self.height
                    on_release:
                        app.root.current = "dun"
                        root.manager.transition.direction = "left"
                MenuButton:
                    text: "Mission"
                    font_size: 32
                    size_hint_x: 0.8
                    bold: True
                    on_release:
                        app.root.current = "dun"
                        root.manager.transition.direction = "left"
                MenuButton:
                    text: "Inventory"
                    font_size: 32
                    size_hint_x: 0.8
                    bold: True
                    on_release:
                        app.root.current = "dun"
                        root.manager.transition.direction = "left"
                MenuButton:
                    text: "Shop"
                    font_size: 32
                    size_hint_x: 0.8
                    bold: True
                    on_release:
                        app.root.current = "dun"
                        root.manager.transition.direction = "left"


<Dungeon>:
    name: "dun"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "Select The Dungeon"
            color: (244/255, 132/255, 0, 1)
            size_hint: 1, .25
            font_size: 32
        Carousel:
            size_hint: 1, 1.2
            loop: True
            Button:
                text: "Rising Knee"
                font_size: 32
                bold: True
                on_release:
                    app.root.current = "knee"
                    root.manager.transition.direction = "up"
            Button:
                text: "Flying jumping jack"
                font_size: 32
                bold: True
            Button:
                text: "Extreme squat"
                font_size: 32
                bold: True
        GridLayout:
            cols: 1
            size_hint: 1, 0.25
            Button:
                text: "Go back"
                font_size: 32
                bold: True
                background_normal: ''
                background_color: (244/255, 132/255, 0, 1)
                on_release:
                    app.root.current = "main"
                    root.manager.transition.direction = "right"

<RisingKnee>:
    name: "knee"
    Image:
        source: 'images/Gym.jpg'
        color: (1,1,1,0.5)
        pos: self.pos
        size_hint: None, None
        size: root.size
        allow_stretch: True
        keep_ratio: False

    GridLayout:
        cols: 2
        Button:
            text: "Go back"
            font_size: 32
            bold: True
            background_normal: ''
            background_color: (244/255, 132/255, 0, 1)
            on_release:
                app.root.current = "dun"
                root.manager.transition.direction = "down"
        Label:
            text: "Rising Knee"
            color: (0, 0, 0, 1)
            font_size: 32
        Label:
            text: "Fight your ways through the enemy by move your knee up and down repeatedly"
            text_size: self.width, None
            height: self.texture_size[1]
            color: (0, 0, 0, 1)
            font_size: 32
        Image:
            source: 'images/test3.png'
            anim_delay: 0.1

        Label:
            text: "* Difficulty goes here *"
            text_size: self.width, None
            height: self.texture_size[1]
            color: (0, 0, 0, 1)
            font_size: 32

        Button:
            text: "Start playing"
            font_size: 64
            bold: True
            background_normal: ''
            background_color: (244/255, 132/255, 0, 1)
            on_release:
                app.root.current = "knee_play"
                root.manager.transition.direction = "up"

<RisingKneePlay>:
    name: "knee_play"
    Image:
        source: 'images/Gym.jpg'
        pos: self.pos
        size_hint: None, None
        size: root.size
        allow_stretch: True
        keep_ratio: False
    Image:
        source: 'images/test2.png'
        size_hint: None, None
        width: "500dp"
        height: "350dp"
        allow_stretch: True
        pos_hint: {"right":.8, "top":.6}
    GridLayout:
        cols: 1
        Label:
#            size_hint: ()
            pos_hint_y: 0
            text: "169"
            color: (1, 1, 1, 1)
            font_size: 32
        Button:
            size_hint: 1, .1
            text: "Exit"
            font_size: 24
            bold: True
            background_normal: ''
            background_color: (244/255, 132/255, 0, 1)
            on_release:
                app.root.current = "knee"
                root.manager.transition.direction = "down"